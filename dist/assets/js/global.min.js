"use strict";function fitHeight(a){var b=(window.isDesktop,a.constructor===String?a:".full-height"),c=function(){return window.innerHeight>=1200?1200:window.innerHeight};return jQuery(b).height(c)}function parallax(a,b,c,d){var e=window.scrollY,f=(jQuery(a)[0].offsetTop,b),g=function(){return"up"===c||null===c?"-":"+"},h=e*f,i=g()+h+"px";"translate"===d?jQuery(a).css({"-webkit-transform":"translate(0, "+i+")","-moz-transform":"translate(0, "+i+")",transform:"translate(0, "+i+")"}):jQuery(a).css("margin-top",i)}function bgParallax(a,b,c){var d=jQuery(a),e=window.scrollY,f=(d[0].offsetTop,d.outerHeight(),.125*b),g=function(){return"up"===c||null===c?50-e*f:50+e*f};d[0]&&d.css("background-position-y",g()+"%")}function resizeEvents(){fitHeight(".full-height"),pollMediaQuery()}function headerTransition(){var a=jQuery("header"),b=window.scrollY;b>=40?a.addClass("semi"):a.removeClass("semi");var c=jQuery(".top-bar"),d=jQuery(".top-bar, .top-bar-section li > a, #contactLink"),e=(jQuery(".top-bar").outerHeight(),function(){return 50>b?b:50});window.isDesktop===!0&&(d.css({height:100-e()+"px","line-height":100-e()+"px"}),$("#brand").css({"font-size":100-.6*e()+"px","line-height":100-e()+"px"})),b>1?c.parent().addClass("scrolled"):1>b&&c.parent().removeClass("scrolled"),b>=50?(c.parent().addClass("semi"),window.isDesktop===!0&&(d.css({height:"50px","line-height":"50px"}),$("#brand").css({"font-size":"70px","line-height":"55px"}))):50>b&&c.parent().removeClass("semi")}function topTabs(a){if(a){var b=$(a),c=b.find(".tab-title a"),d=b.find(".content");c.on("click",function(a){var b=$(a.currentTarget),c=b.data("href"),e=$(c);b.parent("li").addClass("active").siblings().removeClass("active"),d.fadeOut(300).removeClass("active"),setTimeout(function(){e.fadeIn().addClass("active")},300)})}else console.log("topTabs element missing")}function touchHeader(){var a=jQuery("header"),b=window.scrollY,c=jQuery(".top-bar");a.addClass("semi"),10>=b&&a.removeClass("semi"),c.parent().addClass("scrolled"),10>=b&&c.parent().removeClass("scrolled")}function scrollDarken(a){var b=(jQuery(a),window.scrollY),c=jQuery(a).outerHeight(),d=0+1.5*b/c;jQuery(a).css("opacity",d)}function scrollFader(a,b){var c=window.scrollY,d=$(a),e=$(a).offset(),f=e.top,g=f*b;c>g?d.removeClass("fadeIn").addClass("fadeOut"):g>c&&d.removeClass("fadeOut").addClass("fadeIn")}function scrolledTo(a){var b=jQuery(a),c=b[0].offsetTop,d=b.outerHeight();window.scrollY>=c-(d+100)&&console.log("you are here")}function pollMediaQuery(){window.isDesktop,window.isDesktop="none"===jQuery("#pollMQ").css("display")?!0:!1}jQuery(document).ready(function(){pollMediaQuery(),fitHeight(".full-height"),headerTransition(),window.isDesktop||touchHeader(),jQuery(".scrollto").on("click",function(a){a.preventDefault();var b=jQuery(a.currentTarget),c=b.attr("href");$.scrollTo(c,1200)}),function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),$(window).on("resize",function(){window.requestAnimationFrame(resizeEvents)}),$(window).on("scroll",function(){window.requestAnimationFrame(headerTransition)}),jQuery("body").on("touchmove",function(){touchHeader()}),jQuery(".navbar").find(".collapse").hide().addClass("in"),jQuery(".navbar").find(".navbar-toggle").on("click",function(a){a.preventDefault();var b=jQuery(this).data("target");jQuery(b).hasClass("in")?jQuery(b).removeClass("in").slideDown():jQuery(b).addClass("in").slideUp()})});